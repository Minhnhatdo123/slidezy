class Slidezy{constructor(selector,options={}){this.container=document.querySelector(selector);if(!this.container){console.error(`Element with selector "${selector}" not found.`);return}this.options=Object.assign({slideDuration:3e3,transitionDuration:500,autoplay:true,loop:true,items:1},options);this.index=0;this.timer=null;this._createBuild();this.track=this.container.querySelector(".slidezy-track");this.slides=this.container.querySelectorAll(".slidezy-slide");this.prevBtn=this.container.querySelector(".slidezy-prev");this.nextBtn=this.container.querySelector(".slidezy-next");this.dots=this.container.querySelectorAll(".slidezy-dot");if(this.options.loop){this._setupCloneSlides()}this.track.style.transition=`transform ${this.options.transitionDuration}ms ease`;this._setSlidesStyle();this._init()}_createBuild(){this.container.classList.add("slidezy");const content=document.createElement("div");content.classList.add("slidezy-content");const track=document.createElement("div");track.classList.add("slidezy-track");const slides=Array.from(this.container.children);slides.forEach(slide=>{slide.classList.add("slidezy-slide");track.appendChild(slide)});this.container.innerHTML="";content.appendChild(track);this.container.appendChild(content);const prevBtn=document.createElement("button");prevBtn.classList.add("slidezy-prev");prevBtn.innerHTML="&#10094;";const nextBtn=document.createElement("button");nextBtn.classList.add("slidezy-next");nextBtn.innerHTML="&#10095;";content.appendChild(prevBtn);content.appendChild(nextBtn);const dotsContainer=document.createElement("div");dotsContainer.classList.add("slidezy-nav");const totalSlides=Math.max(slides.length-this.options.items+1,1);for(let i=0;i<totalSlides;i++){const dot=document.createElement("span");dot.classList.add("slidezy-dot");if(i===0)dot.classList.add("active");dotsContainer.appendChild(dot)}this.container.appendChild(dotsContainer)}_init(){this.bindEvents();this.update();if(this.options.autoplay){this.startAutoplay()}let resizeTimeout;window.addEventListener("resize",()=>{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(()=>{this.update()},100)})}bindEvents(){this.prevBtn?.addEventListener("click",()=>this.prevSlide());this.nextBtn?.addEventListener("click",()=>this.nextSlide());this.dots.forEach((dot,index)=>{dot.addEventListener("click",()=>{if(this.options.loop){this.goToSlide(index+this.options.items)}else{this.goToSlide(index)}})});if(this.options.loop){this.track.addEventListener("transitionend",()=>{const items=this.options.items;const totalSlides=this.slides.length;if(this.index>=totalSlides-items){this.track.style.transition="none";this.index=items;this.update();setTimeout(()=>{this.track.style.transition=`transform ${this.options.transitionDuration}ms ease`})}if(this.index<items){this.track.style.transition="none";this.index=totalSlides-items*2;this.update();setTimeout(()=>{this.track.style.transition=`transform ${this.options.transitionDuration}ms ease`})}})}}_setSlidesStyle(){const percent=100/this.options.items;this.track.style.display="flex";this.slides.forEach(slide=>{slide.style.flex=`0 0 ${percent}%`})}update(){const slideWidth=100/this.options.items;this.track.style.transform=`translateX(-${this.index*slideWidth}%)`;this.updateDots()}updateDots(){if(!this.dots.length)return;this.dots.forEach(dot=>dot.classList.remove("active"));let realIndex=this.index;if(this.options.loop){realIndex=this.index-this.options.items;if(realIndex<0){realIndex=this.dots.length-1}if(realIndex>=this.dots.length){realIndex=0}}if(realIndex>=this.dots.length)return;this.dots[realIndex]?.classList.add("active")}_setupCloneSlides(){const items=this.options.items;const slideArray=Array.from(this.slides);for(let i=slideArray.length-items;i<slideArray.length;i++){const clone=slideArray[i].cloneNode(true);this.track.insertBefore(clone,this.slides[0])}for(let i=0;i<items;i++){const clone=slideArray[i].cloneNode(true);this.track.appendChild(clone)}this.slides=this.container.querySelectorAll(".slidezy-slide");this.index=items}nextSlide(){const maxIndex=this.slides.length-this.options.items;if(!this.options.loop&&this.index>=maxIndex)return;this.index++;this.update()}prevSlide(){if(!this.options.loop&&this.index<=0)return;this.index--;this.update()}goToSlide(index){if(index>=0&&index<this.slides.length){this.index=index;this.update()}}startAutoplay(){if(this.options.autoplay){this.timer=setInterval(()=>this.nextSlide(),this.options.slideDuration)}}stopAutoplay(){clearInterval(this.timer)}}const slidezy=new Slidezy("#mySlider",{slideDuration:4e3,transitionDuration:600,autoplay:false,loop:true,items:3});