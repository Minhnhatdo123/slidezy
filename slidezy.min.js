class Slidezy{constructor(selector,options={}){this.container=document.querySelector(selector);if(!this.container){console.error(`Element with selector "${selector}" not found.`);return}this.options=Object.assign({slideDuration:3e3,transitionDuration:500,autoplay:true,loop:true},options);this.track=this.container.querySelector(".slidezy-track");this.slides=this.container.querySelectorAll(".slidezy-slide");if(this.options.loop){this._setupCloneSlides()}this.prevBtn=this.container.querySelector(".slidezy-prev");this.nextBtn=this.container.querySelector(".slidezy-next");this.dots=this.container.querySelectorAll(".slidezy-dot");this.index=0;this.timer=null;this.track.style.transition=`transform ${this.options.transitionDuration}ms ease`;this._init()}_init(){this.bindEvents();this.update();if(this.options.autoplay){this.startAutoplay()}}bindEvents(){this.prevBtn?.addEventListener("click",()=>this.prevSlide());this.nextBtn?.addEventListener("click",()=>this.nextSlide());this.dots.forEach((dot,index)=>{dot.addEventListener("click",()=>{this.goToSlide(index+1)})});if(this.options.loop){this.track.addEventListener("transitionend",()=>{const totalSlides=this.slides.length;if(this.index===totalSlides-1){this.track.style.transition="none";this.index=1;this.update();setTimeout(()=>{this.track.style.transition=`transform ${this.options.transitionDuration}ms ease`})}if(this.index===0){this.track.style.transition="none";this.index=totalSlides-2;this.update();setTimeout(()=>{this.track.style.transition=`transform ${this.options.transitionDuration}ms ease`})}})}}update(){const width=this.container.offsetWidth;this.track.style.transform=`translateX(-${this.index*width}px)`;this.updateDots()}updateDots(){if(!this.dots.length)return;this.dots.forEach(dot=>dot.classList.remove("active"));let realIndex=this.index;if(this.options.loop){realIndex=this.index-1;if(realIndex<0){realIndex=this.slides.length-1}if(realIndex>=this.slides.length){realIndex=0}}this.dots[realIndex]?.classList.add("active")}_setupCloneSlides(){const firstSlide=this.slides[0];const lastSlide=this.slides[this.slides.length-1];const firstClone=firstSlide.cloneNode(true);const lastClone=lastSlide.cloneNode(true);this.track.appendChild(firstClone);this.track.insertBefore(lastClone,this.slides[0]);this.slides=this.container.querySelectorAll(".slidezy-slide");this.index=1}nextSlide(){this.index++;this.update()}prevSlide(){this.index--;this.update()}goToSlide(index){if(index>=0&&index<this.slides.length){this.index=index;this.update()}}startAutoplay(){if(this.options.autoplay){this.timer=setInterval(()=>this.nextSlide(),this.options.slideDuration)}}stopAutoplay(){clearInterval(this.timer)}}const slidezy=new Slidezy("#mySlider",{slideDuration:4e3,transitionDuration:600,autoplay:false,loop:true});