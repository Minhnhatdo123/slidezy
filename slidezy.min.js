class Slidezy{constructor(selector,options={}){this.container=document.querySelector(selector);if(!this.container){console.error(`Element with selector "${selector}" not found.`);return}this.options=Object.assign({slideDuration:3e3,transitionDuration:500,autoplay:true,loop:true},options);this.index=0;this.timer=null;this._createBuild();this.track=this.container.querySelector(".slidezy-track");this.slides=this.container.querySelectorAll(".slidezy-slide");this.prevBtn=this.container.querySelector(".slidezy-prev");this.nextBtn=this.container.querySelector(".slidezy-next");this.dots=this.container.querySelectorAll(".slidezy-dot");if(this.options.loop){this._setupCloneSlides()}this.track.style.transition=`transform ${this.options.transitionDuration}ms ease`;this._init()}_createBuild(){this.container.classList.add("slidezy");const content=document.createElement("div");content.classList.add("slidezy-content");const track=document.createElement("div");track.classList.add("slidezy-track");const slides=Array.from(this.container.children);slides.forEach(slide=>{slide.classList.add("slidezy-slide");track.appendChild(slide)});this.container.innerHTML="";content.appendChild(track);this.container.appendChild(content);const prevBtn=document.createElement("button");prevBtn.classList.add("slidezy-prev");prevBtn.innerHTML="&#10094;";const nextBtn=document.createElement("button");nextBtn.classList.add("slidezy-next");nextBtn.innerHTML="&#10095;";content.appendChild(prevBtn);content.appendChild(nextBtn);const dotsContainer=document.createElement("div");dotsContainer.classList.add("slidezy-nav");slides.forEach((_,index)=>{const dot=document.createElement("span");dot.classList.add("slidezy-dot");if(index===0){dot.classList.add("active")}dotsContainer.appendChild(dot)});this.container.appendChild(dotsContainer)}_init(){this.bindEvents();this.update();if(this.options.autoplay){this.startAutoplay()}}bindEvents(){this.prevBtn?.addEventListener("click",()=>this.prevSlide());this.nextBtn?.addEventListener("click",()=>this.nextSlide());this.dots.forEach((dot,index)=>{dot.addEventListener("click",()=>{this.goToSlide(index+1)})});if(this.options.loop){this.track.addEventListener("transitionend",()=>{const totalSlides=this.slides.length;if(this.index===totalSlides-1){this.track.style.transition="none";this.index=1;this.update();setTimeout(()=>{this.track.style.transition=`transform ${this.options.transitionDuration}ms ease`})}if(this.index===0){this.track.style.transition="none";this.index=totalSlides-2;this.update();setTimeout(()=>{this.track.style.transition=`transform ${this.options.transitionDuration}ms ease`})}})}}update(){const width=this.container.offsetWidth;this.track.style.transform=`translateX(-${this.index*width}px)`;this.updateDots()}updateDots(){if(!this.dots.length)return;this.dots.forEach(dot=>dot.classList.remove("active"));let realIndex=this.index;if(this.options.loop){realIndex=this.index-1;if(realIndex<0){realIndex=this.dots.length-1}if(realIndex>=this.dots.length){realIndex=0}}this.dots[realIndex]?.classList.add("active")}_setupCloneSlides(){const firstSlide=this.slides[0];const lastSlide=this.slides[this.slides.length-1];const firstClone=firstSlide.cloneNode(true);const lastClone=lastSlide.cloneNode(true);this.track.appendChild(firstClone);this.track.insertBefore(lastClone,this.slides[0]);this.slides=this.container.querySelectorAll(".slidezy-slide");this.index=1}nextSlide(){this.index++;this.update()}prevSlide(){this.index--;this.update()}goToSlide(index){if(index>=0&&index<this.slides.length){this.index=index;this.update()}}startAutoplay(){if(this.options.autoplay){this.timer=setInterval(()=>this.nextSlide(),this.options.slideDuration)}}stopAutoplay(){clearInterval(this.timer)}}const slidezy=new Slidezy("#mySlider",{slideDuration:4e3,transitionDuration:600,autoplay:false,loop:true});